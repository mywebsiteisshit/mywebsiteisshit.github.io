<section class="section" aria-labelledby="engTitle">
  <h2 id="engTitle" class="h2" style="text-align:center;">Engagement étudiant</h2>
  <p style="text-align:center; font-style:italic; color:#555; margin-top:4px;">
    Cliquez sur un bloc pour voir plus de détails
  </p>

  <div class="eng-container">
    <article class="card engagement">
      <div class="eng-header clickable"> <img src="logo/minitel.png" alt="MINITEL Logo" class="logo">
        <h3 class="h2">MINITEL — Président</h3>
        <span class="toggle-icon">+</span> </div>
      <div class="eng-details">
        <p class="muted">
          Direction de l’association, coordination de l’équipe de 16 membres et gestion des projets internes.
          Organisation d’activités et LAN étudiants.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/handimines.png" alt="Handi'Mines Logo" class="logo">
        <h3 class="h2">Handi'Mines — Membre du projet</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Organisation de conférences et ateliers interactifs (cécifoot, showdown) et production de vidéo de sensibilisation
          pour promouvoir l’inclusion et l’accessibilité sur le campus et en entreprise.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/solidar-ismin.jpg" alt="HVSSD Logo" class="logo">
        <h3 class="h2">HVSSD — Pôle Prévention</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Formation des bureaux associatifs à la prévention du harcèlement, violences sexistes et sexuelles, et discrimination.
          Participation aux événements et gestion des casques VR pour les formations immersives.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/bde.png" alt="BDE Logo" class="logo">
        <h3 class="h2">BDE — Partenariats, Merchandising & Uniformes</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Gestion des produits dérivés et uniformes, logistique et distribution, coordination avec les fournisseurs,
          gestion des partenariats pendant la campagne étudiante.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/velisud.png" alt="Velisud Logo" class="logo">
        <h3 class="h2">Velisud — Projet Entrep’</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Conception d’un véhicule léger à assistance électrique. Responsable de la définition technique et de la conception électronique.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/emse.png" alt="Mines Logo" class="logo">
        <h3 class="h2">Représentant de promotion</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Relais entre étudiants, enseignants et administration pour faciliter la vie de la promotion et résoudre les problèmes quotidiens.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/emse.png" alt="Mines Logo" class="logo">
        <h3 class="h2">Ambassadeur communication</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Création de vidéos et supports promotionnels pour les événements de l’école et les associations étudiantes.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/alumni.png" alt="Mines Logo" class="logo">
        <h3 class="h2">Délégué Alumni</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Maintien du lien entre élèves et anciens élèves pour favoriser le réseau et l’entraide.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/mse.png" alt="Mines Logo" class="logo">
        <h3 class="h2">Serveur au bar associatif (COMIF)</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Gestion du café étudiant, accueil et service lors des événements associatifs.
        </p>
      </div>
    </article>

    <article class="card engagement">
      <div class="eng-header clickable">
        <img src="logo/mse.png" alt="Mines Logo" class="logo">
        <h3 class="h2">Coordinateur logistique FEI</h3>
        <span class="toggle-icon">+</span>
      </div>
      <div class="eng-details">
        <p class="muted">
          Organisation et coordination du Forum Entreprises Ingénieurs, gestion logistique et accueil des entreprises.
        </p>
      </div>
    </article>

  </div>
</section>

<style>
.eng-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-top: 16px;
  align-items: flex-start; /* FIX: Empêche les cartes non ouvertes de s'étirer verticalement */
}

.engagement {
  width: 300px;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 12px;
  /* La classe .card gère le padding */
  overflow: hidden;
  transition: all 0.3s ease;
  cursor: pointer;
}

.engagement:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.1);
}

.eng-header {
  display: flex;
  align-items: center;
  gap: 12px;
  /* Permet au toggle-icon de se positionner à la fin */
  justify-content: space-between;
}

/* Le padding est maintenant géré par .card, on retire le padding local */
.card.engagement {
    padding: 18px 20px; 
}

/* Style de l'icône de bascule */
.toggle-icon {
    font-size: 20px;
    font-weight: 700;
    line-height: 1;
    color: var(--accent);
    transition: transform 0.3s ease, color 0.3s ease;
    flex-shrink: 0;
}
.eng-header.open .toggle-icon {
    transform: rotate(45deg); /* Fait pivoter le '+' en 'x' */
    color: var(--text);
}

.logo {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  object-fit: contain;
  flex-shrink: 0;
}

.eng-details {
  max-height: 0;
  overflow: hidden;
  /* Utilise la valeur max-height pour l'animation */
  transition: max-height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), padding-top 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  padding-top: 0; 
  padding-bottom: 0;
}

/* État ouvert: grand max-height + padding */
.eng-details.open {
  max-height: 500px; /* Grande valeur pour animer correctement */
  padding-top: 10px; 
}
</style>